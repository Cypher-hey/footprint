# 中间件模式

## AOC

AOP 意为面向切面编程，是在 Java 的 Spring 框架的重点内容，其作用如下图所示：

根据上图，`整个响应 http 过程可以看做是一条串联的管道`，对于每个 http 请求我们都想插入相同的逻辑例如数据过滤、日志统计的目的，为了不和业务逻辑混淆一块，提高代码复用率，AOP 提倡`从横向切面思路向管道某个位置插入一段代码逻辑，这样就实现在任何业务逻辑前后都有相同代码逻辑段`，开发者只需专注写业务逻辑，既不影响整个响应 http 过程，而且隔离了业务逻辑，实现高内聚低耦合原则。

可以说 AOP 对 OOP 进行了一个补充，OOP 是对做同一件事情的业务逻辑封装成一个对象，但是做一件事情过程中又想做别的事情对 OOP 来说难以解决。就像上图所示，当系统在响应用户修改信息的请求时，系统在业务处理之前对用户提交的数据做了安全过滤，业务处理之后还要做日志统计。相反如果把所有逻辑都糅合在一起，每次写业务都需重复编写数据过滤和日志统计的代码，违反了单一职责，高内聚低耦合的原则，并且降低代码复用率。
